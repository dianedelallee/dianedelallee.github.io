import{r as p,R as w}from"./index.CRVbtxaI.js";import{$ as ee,a as H,b as te,c as re,d as N,e as S,f as E,g as k,h as ne,i as oe,j as ie,k as le,l as ae,m as ce,n as ue,o as W,p as de,q as se}from"./preload-helper.7uSbVSpe.js";class fe{get currentNode(){return this._currentNode}set currentNode(t){if(!H(this.root,t))throw new Error("Cannot set currentNode to a node that is not contained by the root node.");const r=[];let n=t,o=t;for(this._currentNode=t;n&&n!==this.root;)if(n.nodeType===Node.DOCUMENT_FRAGMENT_NODE){const a=n,i=this._doc.createTreeWalker(a,this.whatToShow,{acceptNode:this._acceptNode});r.push(i),i.currentNode=o,this._currentSetFor.add(i),n=o=a.host}else n=n.parentNode;const l=this._doc.createTreeWalker(this.root,this.whatToShow,{acceptNode:this._acceptNode});r.push(l),l.currentNode=o,this._currentSetFor.add(l),this._walkerStack=r}get doc(){return this._doc}firstChild(){let t=this.currentNode,r=this.nextNode();return H(t,r)?(r&&(this.currentNode=r),r):(this.currentNode=t,null)}lastChild(){let r=this._walkerStack[0].lastChild();return r&&(this.currentNode=r),r}nextNode(){const t=this._walkerStack[0].nextNode();if(t){if(t.shadowRoot){var r;let o;if(typeof this.filter=="function"?o=this.filter(t):!((r=this.filter)===null||r===void 0)&&r.acceptNode&&(o=this.filter.acceptNode(t)),o===NodeFilter.FILTER_ACCEPT)return this.currentNode=t,t;let l=this.nextNode();return l&&(this.currentNode=l),l}return t&&(this.currentNode=t),t}else if(this._walkerStack.length>1){this._walkerStack.shift();let n=this.nextNode();return n&&(this.currentNode=n),n}else return null}previousNode(){const t=this._walkerStack[0];if(t.currentNode===t.root){if(this._currentSetFor.has(t))if(this._currentSetFor.delete(t),this._walkerStack.length>1){this._walkerStack.shift();let o=this.previousNode();return o&&(this.currentNode=o),o}else return null;return null}const r=t.previousNode();if(r){if(r.shadowRoot){var n;let l;if(typeof this.filter=="function"?l=this.filter(r):!((n=this.filter)===null||n===void 0)&&n.acceptNode&&(l=this.filter.acceptNode(r)),l===NodeFilter.FILTER_ACCEPT)return r&&(this.currentNode=r),r;let a=this.lastChild();return a&&(this.currentNode=a),a}return r&&(this.currentNode=r),r}else if(this._walkerStack.length>1){this._walkerStack.shift();let o=this.previousNode();return o&&(this.currentNode=o),o}else return null}nextSibling(){return null}previousSibling(){return null}parentNode(){return null}constructor(t,r,n,o){this._walkerStack=[],this._currentSetFor=new Set,this._acceptNode=a=>{if(a.nodeType===Node.ELEMENT_NODE){const s=a.shadowRoot;if(s){const c=this._doc.createTreeWalker(s,this.whatToShow,{acceptNode:this._acceptNode});return this._walkerStack.unshift(c),NodeFilter.FILTER_ACCEPT}else{var i;if(typeof this.filter=="function")return this.filter(a);if(!((i=this.filter)===null||i===void 0)&&i.acceptNode)return this.filter.acceptNode(a);if(this.filter===null)return NodeFilter.FILTER_ACCEPT}}return NodeFilter.FILTER_SKIP},this._doc=t,this.root=r,this.filter=o??null,this.whatToShow=n??NodeFilter.SHOW_ALL,this._currentNode=r,this._walkerStack.unshift(t.createTreeWalker(r,n,this._acceptNode));const l=r.shadowRoot;if(l){const a=this._doc.createTreeWalker(l,this.whatToShow,{acceptNode:this._acceptNode});this._walkerStack.unshift(a)}}}function ve(e,t,r,n){return ee()?new fe(e,t,r,n):e.createTreeWalker(t,r,n)}function q(e,t){if(!e)return!1;let r=window.getComputedStyle(e),n=/(auto|scroll)/.test(r.overflow+r.overflowX+r.overflowY);return n&&t&&(n=e.scrollHeight!==e.clientHeight||e.scrollWidth!==e.clientWidth),n}function U(e,t){let r=e;for(q(r,t)&&(r=r.parentElement);r&&!q(r,t);)r=r.parentElement;return r||document.scrollingElement||document.documentElement}function Fe(e,t,r){let[n,o]=p.useState(e||t),l=p.useRef(e!==void 0),a=e!==void 0;p.useEffect(()=>{l.current,l.current=a},[a]);let i=a?e:n,s=p.useCallback((c,...f)=>{let u=(d,...v)=>{r&&(Object.is(i,d)||r(d,...v)),a||(i=d)};typeof c=="function"?o((v,...b)=>{let T=c(a?i:v,...b);return u(T,...f),a?v:T}):(a||o(c),u(c,...f))},[a,i,r]);return[i,s]}function he(e){const t=te(e);if(!(e instanceof t.HTMLElement)&&!(e instanceof t.SVGElement))return!1;let{display:r,visibility:n}=e.style,o=r!=="none"&&n!=="hidden"&&n!=="collapse";if(o){const{getComputedStyle:l}=e.ownerDocument.defaultView;let{display:a,visibility:i}=l(e);o=a!=="none"&&i!=="hidden"&&i!=="collapse"}return o}function be(e,t){return!e.hasAttribute("hidden")&&!e.hasAttribute("data-react-aria-prevent-focus")&&(e.nodeName==="DETAILS"&&t&&t.nodeName!=="SUMMARY"?e.hasAttribute("open"):!0)}function X(e,t){return e.nodeName!=="#comment"&&he(e)&&be(e,t)&&(!e.parentElement||X(e.parentElement,e))}function pe({children:e}){let t=p.useMemo(()=>({register:()=>{}}),[]);return w.createElement(re.Provider,{value:t},e)}const z=w.createContext(null),K="react-aria-focus-scope-restore";let h=null;function $e(e){let{children:t,contain:r,restoreFocus:n,autoFocus:o}=e,l=p.useRef(null),a=p.useRef(null),i=p.useRef([]),{parentNode:s}=p.useContext(z)||{},c=p.useMemo(()=>new O({scopeRef:i}),[i]);N(()=>{let d=s||$.root;if($.getTreeNode(d.scopeRef)&&h&&!M(h,d.scopeRef)){let v=$.getTreeNode(h);v&&(d=v)}d.addChild(c),$.addNode(c)},[c,s]),N(()=>{let d=$.getTreeNode(i);d&&(d.contain=!!r)},[r]),N(()=>{var d;let v=(d=l.current)===null||d===void 0?void 0:d.nextSibling,b=[],T=A=>A.stopPropagation();for(;v&&v!==a.current;)b.push(v),v.addEventListener(K,T),v=v.nextSibling;return i.current=b,()=>{for(let A of b)A.removeEventListener(K,T)}},[t]),we(i,n,r),me(i,r),Te(i,n,r),Ee(i,o),p.useEffect(()=>{const d=S(E(i.current?i.current[0]:void 0));let v=null;if(m(d,i.current)){for(let b of $.traverse())b.scopeRef&&m(d,b.scopeRef.current)&&(v=b);v===$.getTreeNode(i)&&(h=v.scopeRef)}},[i]),N(()=>()=>{var d,v,b;let T=(b=(v=$.getTreeNode(i))===null||v===void 0||(d=v.parent)===null||d===void 0?void 0:d.scopeRef)!==null&&b!==void 0?b:null;(i===h||M(i,h))&&(!T||$.getTreeNode(T))&&(h=T),$.removeTreeNode(i)},[i]);let f=p.useMemo(()=>Ne(i),[]),u=p.useMemo(()=>({focusManager:f,parentNode:c}),[c,f]);return w.createElement(z.Provider,{value:u},w.createElement("span",{"data-focus-scope-start":!0,hidden:!0,ref:l}),t,w.createElement("span",{"data-focus-scope-end":!0,hidden:!0,ref:a}))}function Ne(e){return{focusNext(t={}){let r=e.current,{from:n,tabbable:o,wrap:l,accept:a}=t;var i;let s=n||S(E((i=r[0])!==null&&i!==void 0?i:void 0)),c=r[0].previousElementSibling,f=C(r),u=y(f,{tabbable:o,accept:a},r);u.currentNode=m(s,r)?s:c;let d=u.nextNode();return!d&&l&&(u.currentNode=c,d=u.nextNode()),d&&g(d,!0),d},focusPrevious(t={}){let r=e.current,{from:n,tabbable:o,wrap:l,accept:a}=t;var i;let s=n||S(E((i=r[0])!==null&&i!==void 0?i:void 0)),c=r[r.length-1].nextElementSibling,f=C(r),u=y(f,{tabbable:o,accept:a},r);u.currentNode=m(s,r)?s:c;let d=u.previousNode();return!d&&l&&(u.currentNode=c,d=u.previousNode()),d&&g(d,!0),d},focusFirst(t={}){let r=e.current,{tabbable:n,accept:o}=t,l=C(r),a=y(l,{tabbable:n,accept:o},r);a.currentNode=r[0].previousElementSibling;let i=a.nextNode();return i&&g(i,!0),i},focusLast(t={}){let r=e.current,{tabbable:n,accept:o}=t,l=C(r),a=y(l,{tabbable:n,accept:o},r);a.currentNode=r[r.length-1].nextElementSibling;let i=a.previousNode();return i&&g(i,!0),i}}}function C(e){return e[0].parentElement}function F(e){let t=$.getTreeNode(h);for(;t&&t.scopeRef!==e;){if(t.contain)return!1;t=t.parent}return!0}function me(e,t){let r=p.useRef(void 0),n=p.useRef(void 0);N(()=>{let o=e.current;if(!t){n.current&&(cancelAnimationFrame(n.current),n.current=void 0);return}const l=E(o?o[0]:void 0);let a=c=>{if(c.key!=="Tab"||c.altKey||c.ctrlKey||c.metaKey||!F(e)||c.isComposing)return;let f=S(l),u=e.current;if(!u||!m(f,u))return;let d=C(u),v=y(d,{tabbable:!0},u);if(!f)return;v.currentNode=f;let b=c.shiftKey?v.previousNode():v.nextNode();b||(v.currentNode=c.shiftKey?u[u.length-1].nextElementSibling:u[0].previousElementSibling,b=c.shiftKey?v.previousNode():v.nextNode()),c.preventDefault(),b&&g(b,!0)},i=c=>{(!h||M(h,e))&&m(k(c),e.current)?(h=e,r.current=k(c)):F(e)&&!x(k(c),e)?r.current?r.current.focus():h&&h.current&&V(h.current):F(e)&&(r.current=k(c))},s=c=>{n.current&&cancelAnimationFrame(n.current),n.current=requestAnimationFrame(()=>{let f=ce(),u=(f==="virtual"||f===null)&&ne()&&oe(),d=S(l);if(!u&&d&&F(e)&&!x(d,e)){h=e;let b=k(c);if(b&&b.isConnected){var v;r.current=b,(v=r.current)===null||v===void 0||v.focus()}else h.current&&V(h.current)}})};return l.addEventListener("keydown",a,!1),l.addEventListener("focusin",i,!1),o?.forEach(c=>c.addEventListener("focusin",i,!1)),o?.forEach(c=>c.addEventListener("focusout",s,!1)),()=>{l.removeEventListener("keydown",a,!1),l.removeEventListener("focusin",i,!1),o?.forEach(c=>c.removeEventListener("focusin",i,!1)),o?.forEach(c=>c.removeEventListener("focusout",s,!1))}},[e,t]),N(()=>()=>{n.current&&cancelAnimationFrame(n.current)},[n])}function J(e){return x(e)}function m(e,t){return!e||!t?!1:t.some(r=>r.contains(e))}function x(e,t=null){if(e instanceof Element&&e.closest("[data-react-aria-top-layer]"))return!0;for(let{scopeRef:r}of $.traverse($.getTreeNode(t)))if(r&&m(e,r.current))return!0;return!1}function Le(e){return x(e,h)}function M(e,t){var r;let n=(r=$.getTreeNode(t))===null||r===void 0?void 0:r.parent;for(;n;){if(n.scopeRef===e)return!0;n=n.parent}return!1}function g(e,t=!1){if(e!=null&&!t)try{ae(e)}catch{}else if(e!=null)try{e.focus()}catch{}}function Q(e,t=!0){let r=e[0].previousElementSibling,n=C(e),o=y(n,{tabbable:t},e);o.currentNode=r;let l=o.nextNode();return t&&!l&&(n=C(e),o=y(n,{tabbable:!1},e),o.currentNode=r,l=o.nextNode()),l}function V(e,t=!0){g(Q(e,t))}function Ee(e,t){const r=w.useRef(t);p.useEffect(()=>{if(r.current){h=e;const n=E(e.current?e.current[0]:void 0);!m(S(n),h.current)&&e.current&&V(e.current)}r.current=!1},[e])}function we(e,t,r){N(()=>{if(t||r)return;let n=e.current;const o=E(n?n[0]:void 0);let l=a=>{let i=k(a);m(i,e.current)?h=e:J(i)||(h=null)};return o.addEventListener("focusin",l,!1),n?.forEach(a=>a.addEventListener("focusin",l,!1)),()=>{o.removeEventListener("focusin",l,!1),n?.forEach(a=>a.removeEventListener("focusin",l,!1))}},[e,t,r])}function B(e){let t=$.getTreeNode(h);for(;t&&t.scopeRef!==e;){if(t.nodeToRestore)return!1;t=t.parent}return t?.scopeRef===e}function Te(e,t,r){const n=p.useRef(typeof document<"u"?S(E(e.current?e.current[0]:void 0)):null);N(()=>{let o=e.current;const l=E(o?o[0]:void 0);if(!t||r)return;let a=()=>{(!h||M(h,e))&&m(S(l),e.current)&&(h=e)};return l.addEventListener("focusin",a,!1),o?.forEach(i=>i.addEventListener("focusin",a,!1)),()=>{l.removeEventListener("focusin",a,!1),o?.forEach(i=>i.removeEventListener("focusin",a,!1))}},[e,r]),N(()=>{const o=E(e.current?e.current[0]:void 0);if(!t)return;let l=a=>{if(a.key!=="Tab"||a.altKey||a.ctrlKey||a.metaKey||!F(e)||a.isComposing)return;let i=o.activeElement;if(!x(i,e)||!B(e))return;let s=$.getTreeNode(e);if(!s)return;let c=s.nodeToRestore,f=y(o.body,{tabbable:!0});f.currentNode=i;let u=a.shiftKey?f.previousNode():f.nextNode();if((!c||!c.isConnected||c===o.body)&&(c=void 0,s.nodeToRestore=void 0),(!u||!x(u,e))&&c){f.currentNode=c;do u=a.shiftKey?f.previousNode():f.nextNode();while(x(u,e));a.preventDefault(),a.stopPropagation(),u?g(u,!0):J(c)?g(c,!0):i.blur()}};return r||o.addEventListener("keydown",l,!0),()=>{r||o.removeEventListener("keydown",l,!0)}},[e,t,r]),N(()=>{const o=E(e.current?e.current[0]:void 0);if(!t)return;let l=$.getTreeNode(e);if(l){var a;return l.nodeToRestore=(a=n.current)!==null&&a!==void 0?a:void 0,()=>{let i=$.getTreeNode(e);if(!i)return;let s=i.nodeToRestore,c=S(o);if(t&&s&&(c&&x(c,e)||c===o.body&&B(e))){let f=$.clone();requestAnimationFrame(()=>{if(o.activeElement===o.body){let u=f.getTreeNode(e);for(;u;){if(u.nodeToRestore&&u.nodeToRestore.isConnected){G(u.nodeToRestore);return}u=u.parent}for(u=f.getTreeNode(e);u;){if(u.scopeRef&&u.scopeRef.current&&$.getTreeNode(u.scopeRef)){let d=Q(u.scopeRef.current,!0);G(d);return}u=u.parent}}})}}}},[e,t])}function G(e){e.dispatchEvent(new CustomEvent(K,{bubbles:!0,cancelable:!0}))&&g(e)}function y(e,t,r){let n=t?.tabbable?ie:le,o=e?.nodeType===Node.ELEMENT_NODE?e:null,l=E(o),a=ve(l,e||l,NodeFilter.SHOW_ELEMENT,{acceptNode(i){var s;return!(t==null||(s=t.from)===null||s===void 0)&&s.contains(i)?NodeFilter.FILTER_REJECT:n(i)&&X(i)&&(!r||m(i,r))&&(!t?.accept||t.accept(i))?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});return t?.from&&(a.currentNode=t.from),a}class P{get size(){return this.fastMap.size}getTreeNode(t){return this.fastMap.get(t)}addTreeNode(t,r,n){let o=this.fastMap.get(r??null);if(!o)return;let l=new O({scopeRef:t});o.addChild(l),l.parent=o,this.fastMap.set(t,l),n&&(l.nodeToRestore=n)}addNode(t){this.fastMap.set(t.scopeRef,t)}removeTreeNode(t){if(t===null)return;let r=this.fastMap.get(t);if(!r)return;let n=r.parent;for(let l of this.traverse())l!==r&&r.nodeToRestore&&l.nodeToRestore&&r.scopeRef&&r.scopeRef.current&&m(l.nodeToRestore,r.scopeRef.current)&&(l.nodeToRestore=r.nodeToRestore);let o=r.children;n&&(n.removeChild(r),o.size>0&&o.forEach(l=>n&&n.addChild(l))),this.fastMap.delete(r.scopeRef)}*traverse(t=this.root){if(t.scopeRef!=null&&(yield t),t.children.size>0)for(let r of t.children)yield*this.traverse(r)}clone(){var t;let r=new P;var n;for(let o of this.traverse())r.addTreeNode(o.scopeRef,(n=(t=o.parent)===null||t===void 0?void 0:t.scopeRef)!==null&&n!==void 0?n:null,o.nodeToRestore);return r}constructor(){this.fastMap=new Map,this.root=new O({scopeRef:null}),this.fastMap.set(null,this.root)}}class O{addChild(t){this.children.add(t),t.parent=this}removeChild(t){this.children.delete(t),t.parent=void 0}constructor(t){this.children=new Set,this.contain=!1,this.scopeRef=t.scopeRef}}let $=new P;const I=typeof document<"u"&&window.visualViewport,ge=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);let L=0,D;function Me(e={}){let{isDisabled:t}=e;N(()=>{if(!t)return L++,L===1&&(ue()?D=xe():D=Se()),()=>{L--,L===0&&D()}},[t])}function Se(){let e=window.innerWidth-document.documentElement.clientWidth;return W(e>0&&("scrollbarGutter"in document.documentElement.style?_(document.documentElement,"scrollbarGutter","stable"):_(document.documentElement,"paddingRight",`${e}px`)),_(document.documentElement,"overflow","hidden"))}function xe(){let e,t,r=c=>{e=U(c.target,!0),!(e===document.documentElement&&e===document.body)&&e instanceof HTMLElement&&window.getComputedStyle(e).overscrollBehavior==="auto"&&(t=_(e,"overscrollBehavior","contain"))},n=c=>{if(!e||e===document.documentElement||e===document.body){c.preventDefault();return}e.scrollHeight===e.clientHeight&&e.scrollWidth===e.clientWidth&&c.preventDefault()},o=()=>{t&&t()},l=c=>{let f=c.target;ye(f)&&(i(),f.style.transform="translateY(-2000px)",requestAnimationFrame(()=>{f.style.transform="",I&&(I.height<window.innerHeight?requestAnimationFrame(()=>{Y(f)}):I.addEventListener("resize",()=>Y(f),{once:!0}))}))},a=null,i=()=>{if(a)return;let c=()=>{window.scrollTo(0,0)},f=window.pageXOffset,u=window.pageYOffset;a=W(R(window,"scroll",c),_(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`),_(document.documentElement,"overflow","hidden"),_(document.body,"marginTop",`-${u}px`),()=>{window.scrollTo(f,u)}),window.scrollTo(0,0)},s=W(R(document,"touchstart",r,{passive:!1,capture:!0}),R(document,"touchmove",n,{passive:!1,capture:!0}),R(document,"touchend",o,{passive:!1,capture:!0}),R(document,"focus",l,!0));return()=>{t?.(),a?.(),s()}}function _(e,t,r){let n=e.style[t];return e.style[t]=r,()=>{e.style[t]=n}}function R(e,t,r,n){return e.addEventListener(t,r,n),()=>{e.removeEventListener(t,r,n)}}function Y(e){let t=document.scrollingElement||document.documentElement,r=e;for(;r&&r!==t;){let n=U(r);if(n!==document.documentElement&&n!==document.body&&n!==r){let o=n.getBoundingClientRect().top,l=r.getBoundingClientRect().top;l>o+r.clientHeight&&(n.scrollTop+=l-o)}r=n.parentElement}}function ye(e){return e instanceof HTMLInputElement&&!ge.has(e.type)||e instanceof HTMLTextAreaElement||e instanceof HTMLElement&&e.isContentEditable}const Ce=p.createContext({});function _e(){var e;return(e=p.useContext(Ce))!==null&&e!==void 0?e:{}}const Z=w.createContext(null);function Ae(e){let t=de(),{portalContainer:r=t?null:document.body,isExiting:n}=e,[o,l]=p.useState(!1),a=p.useMemo(()=>({contain:o,setContain:l}),[o,l]),{getContainer:i}=_e();if(!e.portalContainer&&i&&(r=i()),!r)return null;let s=e.children;return e.disableFocusManagement||(s=w.createElement($e,{restoreFocus:!0,contain:(e.shouldContainFocus||o)&&!n},s)),s=w.createElement(Z.Provider,{value:a},w.createElement(pe,null,s)),se.createPortal(s,r)}function Ie(){let e=p.useContext(Z),t=e?.setContain;N(()=>{t?.(!0)},[t])}var j={ease:[.36,.66,.4,1],easeIn:[.4,0,1,1],easeOut:[0,0,.2,1]},De={fade:{enter:{opacity:1,transition:{duration:.4,ease:j.ease}},exit:{opacity:0,transition:{duration:.3,ease:j.ease}}}};export{Fe as $,j as T,Ae as a,Me as b,Le as c,Ie as d,De as e};
