import{r as n}from"./index.CRVbtxaI.js";import{t as U,u as q,m as G,o as J,c as L,d as R,f as Q,j as I}from"./chunk-UWE6H66T.CvIpiuNX.js";import{u as X}from"./chunk-BDGLNRCW.DH0J7B3Q.js";import{u as Y}from"./index.D8T5jLCW.js";function ee(){const l=()=>()=>{};return n.useSyncExternalStore(l,()=>!0,()=>!1)}var A=U({slots:{wrapper:"relative shadow-black/5",zoomedWrapper:"relative overflow-hidden rounded-inherit",img:"relative z-10 opacity-0 shadow-black/5 data-[loaded=true]:opacity-100",blurredImg:["absolute","z-0","inset-0","w-full","h-full","object-cover","filter","blur-lg","scale-105","saturate-150","opacity-30","translate-y-1"]},variants:{radius:{none:{},sm:{},md:{},lg:{},full:{}},shadow:{none:{wrapper:"shadow-none",img:"shadow-none"},sm:{wrapper:"shadow-small",img:"shadow-small"},md:{wrapper:"shadow-medium",img:"shadow-medium"},lg:{wrapper:"shadow-large",img:"shadow-large"}},isZoomed:{true:{img:["object-cover","transform","hover:scale-125"]}},showSkeleton:{true:{wrapper:["group","relative","overflow-hidden","bg-content3 dark:bg-content2"],img:"opacity-0"}},disableAnimation:{true:{img:"transition-none"},false:{img:"transition-transform-opacity motion-reduce:transition-none !duration-300"}}},defaultVariants:{radius:"lg",shadow:"none",isZoomed:!1,isBlurred:!1,showSkeleton:!1},compoundVariants:[{showSkeleton:!0,disableAnimation:!1,class:{wrapper:["before:opacity-100","before:absolute","before:inset-0","before:-translate-x-full","before:animate-[shimmer_2s_infinite]","before:border-t","before:border-content4/30","before:bg-gradient-to-r","before:from-transparent","before:via-content4","dark:before:via-default-700/10","before:to-transparent","after:opacity-100","after:absolute","after:inset-0","after:-z-10","after:bg-content3","dark:after:bg-content2"]}}],compoundSlots:[{slots:["wrapper","img","blurredImg","zoomedWrapper"],radius:"none",class:"rounded-none"},{slots:["wrapper","img","blurredImg","zoomedWrapper"],radius:"full",class:"rounded-full"},{slots:["wrapper","img","blurredImg","zoomedWrapper"],radius:"sm",class:"rounded-small"},{slots:["wrapper","img","blurredImg","zoomedWrapper"],radius:"md",class:"rounded-md"},{slots:["wrapper","img","blurredImg","zoomedWrapper"],radius:"lg",class:"rounded-large"}]});function re(l={}){const{onLoad:u,onError:m,ignoreFallback:p,src:r,crossOrigin:i,srcSet:g,sizes:d,loading:s}=l,f=ee(),e=n.useRef(f?new Image:null),[b,c]=n.useState("pending");n.useEffect(()=>{e.current&&(e.current.onload=o=>{t(),c("loaded"),u?.(o)},e.current.onerror=o=>{t(),c("failed"),m?.(o)})},[e.current]);const t=()=>{e.current&&(e.current.onload=null,e.current.onerror=null,e.current=null)},a=n.useCallback(()=>{if(!r)return"pending";if(p)return"loaded";const o=new Image;return o.src=r,i&&(o.crossOrigin=i),g&&(o.srcset=g),d&&(o.sizes=d),s&&(o.loading=s),e.current=o,o.complete&&o.naturalWidth?"loaded":"loading"},[r,i,g,d,u,m,s]);return Y(()=>{f&&c(a())},[f,a]),p?"loaded":b}function oe(l){var u,m;const p=q(),[r,i]=G(l,A.variantKeys),{ref:g,as:d,src:s,className:f,classNames:e,loading:b,isBlurred:c,fallbackSrc:t,isLoading:a,disableSkeleton:o=!!t,removeWrapper:Z=!1,onError:_,onLoad:$,srcSet:y,sizes:k,crossOrigin:S,...v}=r,x=re({src:s,loading:b,onError:_,onLoad:$,ignoreFallback:!1,srcSet:y,sizes:k,crossOrigin:S}),z=(m=(u=l.disableAnimation)!=null?u:p?.disableAnimation)!=null?m:!1,W=x==="loaded"&&!a,j=x==="loading"||a,O=l.isZoomed,F=d||"img",N=X(g),{w:P,h:H}=n.useMemo(()=>({w:r.width?typeof r.width=="number"?`${r.width}px`:r.width:"fit-content",h:r.height?typeof r.height=="number"?`${r.height}px`:r.height:"auto"}),[r?.width,r?.height]),E=(!s||!W)&&!!t,C=j&&!o,h=n.useMemo(()=>A({...i,disableAnimation:z,showSkeleton:C}),[J(i),z,C]),M=L(f,e?.img),V=(w={})=>{const T=L(M,w?.className);return{src:s,ref:N,"data-loaded":R(W),className:h.img({class:T}),loading:b,srcSet:y,sizes:k,crossOrigin:S,...v,style:{...v?.height&&{height:H},...w.style,...v.style}}},D=n.useCallback(()=>{const w=E?{backgroundImage:`url(${t})`}:{};return{className:h.wrapper({class:e?.wrapper}),style:{...w,maxWidth:P}}},[h,E,t,e?.wrapper,P]),K=n.useCallback(()=>({src:s,"aria-hidden":R(!0),className:h.blurredImg({class:e?.blurredImg})}),[h,s,e?.blurredImg]);return{Component:F,domRef:N,slots:h,classNames:e,isBlurred:c,disableSkeleton:o,fallbackSrc:t,removeWrapper:Z,isZoomed:O,isLoading:j,getImgProps:V,getWrapperProps:D,getBlurredImgProps:K}}var B=Q((l,u)=>{const{Component:m,domRef:p,slots:r,classNames:i,isBlurred:g,isZoomed:d,fallbackSrc:s,removeWrapper:f,disableSkeleton:e,getImgProps:b,getWrapperProps:c,getBlurredImgProps:t}=oe({...l,ref:u}),a=I.jsx(m,{ref:p,...b()});if(f)return a;const o=I.jsx("div",{className:r.zoomedWrapper({class:i?.zoomedWrapper}),children:a});return g?I.jsxs("div",{...c(),children:[d?o:a,n.cloneElement(a,t())]}):d||!e||s?I.jsxs("div",{...c(),children:[" ",d?o:a]}):a});B.displayName="HeroUI.Image";var le=B;export{le as Image};
